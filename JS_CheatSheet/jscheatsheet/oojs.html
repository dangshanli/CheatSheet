<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object-oriented JavaScript example</title>
</head>

<body>
    <p>This example requires you to enter commands in your browser's JavaScript console (see <a
            href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">What
            are browser developer tools</a> for more information).</p>
    <script>
        // var person = {
        //     name: ['Bob', 'Smith'],
        //     age: 32,
        //     gender: 'male',
        //     interests: ['music', 'skiing'],
        //     bio: function () {
        //         alert(this.name[0] + ' ' + this.name[1] + ' is ' +
        //             this.age + ' years old.He likes ' + this.interests[0] +
        //             ' and ' + this.interests[1] + '.')
        //     },
        //     greeting: function () {
        //         alert('Hie! I\'m ' + this.name[0] + '.')
        //     }
        // };

        // var myDataName = 'height'
        // var myDataValue = '1.75m'
        // person[myDataName] = myDataValue

        // 工厂方法
        // function createNewPerson(name) {
        //     var obj = {};
        //     obj.name = name;
        //     obj.greeting = function () {
        //         alert('Hi! I\'m' + this.name+'.');
        //     }
        //     return obj;
        // }

        // var salva = createNewPerson('salva');

        function Person(first, last, age, gender, interests) {
            this.name = {
                'first': first,
                'last': last
            };
            this.age = age;
            this.gender = gender;
            this.interests = interests;
            this.bio = function () {
                alert(this.name.first + ' ' + this.name.last + ' is ' + this.age +
                    ' years old.' +
                    (this.gender === 'male' ? ' He' : ' She')
                    + ' likes '
                    + this.__intres() + '.');
            };

            this.__intres = function () {
                var intre = '';
                for (let i = 0; i < this.interests.length; i++) {
                    const element = this.interests[i];
                    intre += element + ' and ';
                }
                return intre.slice(0, intre.length - 5);
            }
            this.greeting = function () {
                alert('Hi! I\'m ' + this.name.first + '.');
            };

            this.gettingAge = function () {
                return this.age;
            }

            this.settingAge = function (age) {
                if (!isNaN(age))
                    this.age = age;
                else
                    throw new Error('not good');
            }
        };

        Person.prototype.farewell = function () {
            alert(this.name.first + ' has left the building. Bye for now!');
        }

        var person1 = new Person('Bob', 'Smith', 32, 'male',
            ['music', 'skiing']);

        var person2 = new Person('Lily', 'Will', 22, 'female',
            ['music', 'skiing', 'painting', 'sing']);

    </script>

</body>

</html>